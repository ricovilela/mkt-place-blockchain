!function(e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).URLParse=e()}(function(){return function r(n,s,a){function i(t,e){if(!s[t]){if(!n[t]){var o="function"==typeof require&&require;if(!e&&o)return o(t,!0);if(l)return l(t,!0);throw(e=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",e}o=s[t]={exports:{}},n[t][0].call(o.exports,function(e){return i(n[t][1][e]||e)},o,o.exports,r,n,s,a)}return s[t].exports}for(var l="function"==typeof require&&require,e=0;e<a.length;e++)i(a[e]);return i}({1:[function(e,o,t){!function(a){!function(){"use strict";var f=e("requires-port"),h=e("querystringify"),d=/[\n\r\t]/g,s=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,i=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,q=/^[a-zA-Z]:/,t=/^[ \f\n\r\t\v\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/;function y(e){return(e||"").toString().replace(t,"")}var m=[["#","hash"],["?","query"],function(e,t){return g(t.protocol)?e.replace(/\\/g,"/"):e},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],n={hash:1,query:1};function w(e){var t,o="undefined"!=typeof window?window:void 0!==a?a:"undefined"!=typeof self?self:{},o=o.location||{},r={},o=typeof(e=e||o);if("blob:"===e.protocol)r=new b(unescape(e.pathname),{});else if("string"==o)for(t in r=new b(e,{}),n)delete r[t];else if("object"==o){for(t in e)t in n||(r[t]=e[t]);void 0===r.slashes&&(r.slashes=s.test(e.href))}return r}function g(e){return"file:"===e||"ftp:"===e||"http:"===e||"https:"===e||"ws:"===e||"wss:"===e}function v(e,t){e=(e=y(e)).replace(d,""),t=t||{};var o,e=i.exec(e),r=e[1]?e[1].toLowerCase():"",n=!!e[2],s=!!e[3],a=0;return n?a=s?(o=e[2]+e[3]+e[4],e[2].length+e[3].length):(o=e[2]+e[4],e[2].length):s?(o=e[3]+e[4],a=e[3].length):o=e[4],"file:"===r?2<=a&&(o=o.slice(2)):g(r)?o=e[4]:r?n&&(o=o.slice(2)):2<=a&&g(t.protocol)&&(o=e[4]),{protocol:r,slashes:n||g(r),slashesCount:a,rest:o}}function b(e,t,o){if(e=(e=y(e)).replace(d,""),!(this instanceof b))return new b(e,t,o);var r,n,s,a,i,p=m.slice(),l=typeof t,u=this,c=0;for("object"!=l&&"string"!=l&&(o=t,t=null),o&&"function"!=typeof o&&(o=h.parse),r=!(l=v(e||"",t=w(t))).protocol&&!l.slashes,u.slashes=l.slashes||r&&t.slashes,u.protocol=l.protocol||t.protocol||"",e=l.rest,("file:"===l.protocol&&(2!==l.slashesCount||q.test(e))||!l.slashes&&(l.protocol||l.slashesCount<2||!g(u.protocol)))&&(p[3]=[/(.*)/,"pathname"]);c<p.length;c++)"function"!=typeof(s=p[c])?(n=s[0],i=s[1],n!=n?u[i]=e:"string"==typeof n?~(a=e.indexOf(n))&&(e="number"==typeof s[2]?(u[i]=e.slice(0,a),e.slice(a+s[2])):(u[i]=e.slice(a),e.slice(0,a))):(a=n.exec(e))&&(u[i]=a[1],e=e.slice(0,a.index)),u[i]=u[i]||r&&s[3]&&t[i]||"",s[4]&&(u[i]=u[i].toLowerCase())):e=s(e,u);o&&(u.query=o(u.query)),r&&t.slashes&&"/"!==u.pathname.charAt(0)&&(""!==u.pathname||""!==t.pathname)&&(u.pathname=function(e,t){if(""===e)return t;for(var o=(t||"/").split("/").slice(0,-1).concat(e.split("/")),r=o.length,t=o[r-1],n=!1,s=0;r--;)"."===o[r]?o.splice(r,1):".."===o[r]?(o.splice(r,1),s++):s&&(0===r&&(n=!0),o.splice(r,1),s--);return n&&o.unshift(""),"."!==t&&".."!==t||o.push(""),o.join("/")}(u.pathname,t.pathname)),"/"!==u.pathname.charAt(0)&&g(u.protocol)&&(u.pathname="/"+u.pathname),f(u.port,u.protocol)||(u.host=u.hostname,u.port=""),u.username=u.password="",u.auth&&(s=u.auth.split(":"),u.username=s[0],u.password=s[1]||""),u.origin="file:"!==u.protocol&&g(u.protocol)&&u.host?u.protocol+"//"+u.host:"null",u.href=u.toString()}b.prototype={set:function(e,t,o){var r=this;switch(e){case"query":"string"==typeof t&&t.length&&(t=(o||h.parse)(t)),r[e]=t;break;case"port":r[e]=t,f(t,r.protocol)?t&&(r.host=r.hostname+":"+t):(r.host=r.hostname,r[e]="");break;case"hostname":r[e]=t,r.port&&(t+=":"+r.port),r.host=t;break;case"host":r[e]=t,/:\d+$/.test(t)?(t=t.split(":"),r.port=t.pop(),r.hostname=t.join(":")):(r.hostname=t,r.port="");break;case"protocol":r.protocol=t.toLowerCase(),r.slashes=!o;break;case"pathname":case"hash":t?(n="pathname"===e?"/":"#",r[e]=t.charAt(0)!==n?n+t:t):r[e]=t;break;case"username":case"password":r[e]=encodeURIComponent(t);break;case"auth":var n=t.split(":");r.username=n[0],r.password=2===n.length?n[1]:""}for(var s=0;s<m.length;s++){var a=m[s];a[4]&&(r[a[1]]=r[a[1]].toLowerCase())}return r.auth=r.password?r.username+":"+r.password:r.username,r.origin="file:"!==r.protocol&&g(r.protocol)&&r.host?r.protocol+"//"+r.host:"null",r.href=r.toString(),r},toString:function(e){e&&"function"==typeof e||(e=h.stringify);var t=this,o=((o=t.protocol)&&":"!==o.charAt(o.length-1)&&(o+=":"),o+(t.protocol&&t.slashes||g(t.protocol)?"//":""));return t.username?(o+=t.username,t.password&&(o+=":"+t.password),o+="@"):t.password&&(o=o+(":"+t.password)+"@"),o+=t.host+t.pathname,(e="object"==typeof t.query?e(t.query):t.query)&&(o+="?"!==e.charAt(0)?"?"+e:e),t.hash&&(o+=t.hash),o}},b.extractProtocol=v,b.location=w,b.trimLeft=y,b.qs=h,o.exports=b}.call(this)}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{querystringify:2,"requires-port":3}],2:[function(e,t,o){"use strict";var s=Object.prototype.hasOwnProperty;function a(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(e){return null}}function i(e){try{return encodeURIComponent(e)}catch(e){return null}}o.stringify=function(e,t){var o,r,n=[];for(r in"string"!=typeof(t=t||"")&&(t="?"),e)s.call(e,r)&&((o=e[r])||null!=o&&!isNaN(o)||(o=""),r=i(r),o=i(o),null!==r&&null!==o&&n.push(r+"="+o));return n.length?t+n.join("&"):""},o.parse=function(e){for(var t=/([^=?#&]+)=?([^&]*)/g,o={};n=t.exec(e);){var r=a(n[1]),n=a(n[2]);null===r||null===n||r in o||(o[r]=n)}return o}},{}],3:[function(e,t,o){"use strict";t.exports=function(e,t){if(t=t.split(":")[0],!(e=+e))return!1;switch(t){case"http":case"ws":return 80!==e;case"https":case"wss":return 443!==e;case"ftp":return 21!==e;case"gopher":return 70!==e;case"file":return!1}return 0!==e}},{}]},{},[1])(1)});